<script src="/client/bower_components/webcomponentsjs/webcomponents-loader.js"></script>

<link rel="import" href="/client/bower_components/polymer/polymer.html">

<dom-module id="show-plugin">
    
    <template>
        
        <style>
            iframe{
                width:100%;
                height:calc(100vh - 68px);
                border:0;
                padding:0;
                margin:0;
            }
        </style>
        
        <iframe security="restricted" src="{{_frameUrl(route, data, subroute, url)}}"></iframe>
    </template>

    <script>
        Polymer({
            is: 'show-plugin',
            properties: {
                route: Object,
                data: Object,
                subroute: Object,
                url: Object
            },
            
            _frameUrl: function(route, data, subroute, url){
                //console.log(url);
                return window.location.protocol + "//" + window.location.hostname + ":" + (parseInt(window.location.port)+1) + "/plugins/" + url.page
            },
            
            toJSON: function(object){
                return JSON.stringify(object);
            },
            
            ready: function(){
                //console.log(this.url);
            }
        });
    </script>

</dom-module>